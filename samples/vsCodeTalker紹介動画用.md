---
marp: true
---

# vsCodeTalker

vsCode内のテキストを各種音声合成エンジンで読み上げる拡張機能

<!--
雫＞こんにちわ、結月ゆかりです。
雫＞ビジュアルスタジオコード内のテキストを読み上げたり録音する拡張機能を作りました。
まずインストール方法から、"vsCodeTalker"で拡張機能を検索→インストール
インストール後、テキストファイル(.txt)やマークダウン(.md)を開くと拡張機能が有効になる
 -->
---
## 導入手順
インストールが必要なもの:
* visual studioCode
* 読み上げに使う音声合成ライブラリ
<!-- 
雫＞次に導入手順です。
雫＞ビジュアルスタジオコードを開き、「拡張機能」のタブを選択、
雫＞「ブイエスコードトーカー」で検索すると見つかると思います
雫＞インストールしたら、プレーンテキストかマークダウンを開くと有効になります
雫＞有効化されたら読み上げができるようになります
雫＞例として、入力しているテキストの読み上げをしてみます
雫＞尺の都合上、起動待ちはカットします
雫＞実際にはバックグラウンドで読み上げしています。
 -->
---
## 機能(Features)
<!-- 
雫＞次に、今できている機能の紹介をしていきます。
雫＞選択範囲を読み上げたり、
雫＞ファイル内にあるアイボス系のボイスプリセットを含む行を一括で読み上げて録音するところまで対応済みです。
 -->
 - [x] 使用可能な音声合成ライブラリの取得
 - [x] 選択範囲orカーソル行の読み上げ/読み上げ+録音
 - [x] ファイルの一括読み上げ/読み上げ+録音
 - [x] 録音ファイルの保存先フォルダを開く

ファイル一括読み上げ/録音の場合、先頭にボイスプリセットを含む行を読み上げます
雫＞読み上げのテストです

<!-- 
 -->
---
## 対応している音声合成エンジン
windows 10 64bitで動作確認済みのもの
* [VOICEVOX](https://voicevox.hiroshiba.jp)
  * 今の所、IAと雫に対応
  * 読み上げの前にVOICEVOX本体を立ち上げておく必要あり
* Voiceroid2(64bit版のみ)
* [A.I.Voice](https://aivoice.jp/)
* CeVIO AI

<!-- 
雫＞次に動作確認ができているソフトの一覧になります
四国めたん＞ボイスボックスと、
きりたん＞ボイスロイド２とプラスは、64ビット版のボイスロイド２エディタに移行すれば読み上げできます。
茜＞Voiceroid2と、
IA＞Cevio AIにも対応しているよ
 -->
---
## todo/実装予定

 - [x] 設定サンプルを作成
 - [ ] 録音時の処理改良
   - [ ] 保存時、ファイル名に使用できない文字列を消す
 - [ ] 1行読み上げの改良
   - [ ] ボイスプリセットで始まる読み上げにボイスプリセットを反映
 - [ ] 一括読み上げ/録音のキャンセル機能の追加
   - [ ] 読み上げてる最中にミスに気付くとかなしい…
   - [ ] cevio cs7の対応
 - [ ] 以前作ってた機能の追加
<!-- 
雫＞次に現状の対応予定になります、上から対応していく予定です。
雫＞半角ハテナなど、ファイル名に使えない文字列を入れても録音できるようにする改修からやっていこうと思います。
 -->
---
## 使用例(かんしくんと組み合わせ)
一括で読み上げて+録音してaviutlに反映できる(はず)
かんしくんの設定ファイルの作成+編集と、
拡張機能側で以下の設定が必要です
* 拡張機能の音声保存先をかんしくんの保存先に合わせる
* 音声合成時、テキストファイルを生成する
<!-- 
雫＞今のところの使用例として、oov様作のかんしくんと組み合わせがあります。
雫＞かんしくんと拡張機能側の両方に設定は必要ですが、
雫＞テキストファイルをまとめて録音してエーブイアイユーティルに音声取り込みまでできると思います。
雫＞実際の画面操作で説明していきます
雫＞まず、音声保存先をかんしくんに合わせます
雫＞かんしくんを開き、TEMP_DIRのパスをコピー
雫＞次にこの設定にチェックと、
雫＞かんしくんでコピーしたパスをここの設定に貼り付けます
雫＞準備ができたので、読み上げしてみます
雫＞「ファイル内のボイスプリセットを含む行を録音し読み上げ」を選びます
雫＞こんな動作になります。
雫＞この動画で使用した、かんしくんの設定ファイルのサンプルは別に上げておきます。
 -->

---
## 既知の問題点(Known Issues)

* 録音時
  * 読み上げ内容にファイル名に使用できない文字があると落ちる
  * 録音中に再生した別の音声が録音されている
    * 仕様です(スピーカーに流れる音声を録音するため起きます)
* 読み上げ中に、別の読み上げを実行すると変な挙動になる
* VOICEVOXは読み上げ前に本体の起動が必要
* Cevio CSについてインストール済みエンジンのリストがおかしい
  * 未インストールなのに使える表示(ささら、つづみ、タカハシ)
  * インストール済みなのに使えない表示(IA,OИE)

<!-- 
雫＞次に現状確認済みの問題点になります。
雫＞まだα版の状態なので、動作確認をしてくださる方がいると嬉しいです
IA＞つまり人柱ってことだね！
-->
---
# ご視聴ありがとうございました
<!-- Credit表記 -->
使用ソフト:
* aviutl
* かんしくん
* psd toolkit
立ち絵:いずれもakihiyoさま
* ゆかり(雫)素材 im10812109
* 立ちめたん素材 im10796593
* 立ち東北きりたん素材 im10601764
* 立ちIA素材 im10626084
<!-- 
雫＞ご視聴、ありがとうございました
IA＞ばいばーい
 -->